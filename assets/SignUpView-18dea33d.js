import{_ as x,d as C,r as s,e as y,o as v,c,a as o,g as h,h as m,v as p,t as V,b as S,f as U,w as k,j as T}from"./index-71e43f9f.js";import{S as f}from"./sweetalert2.esm.all-263d9c0b.js";const B={id:"signUpPage",class:"bg-yellow"},P={class:"conatiner signUpPage vhContainer"},N={key:0,class:"error-message"},q="https://todolist-api.hexschool.io",j={__name:"SignUpView",setup(I){const g=C(),a=s("example444@gmail.com"),n=s("example"),i=s("example"),u=s("example444"),r=s(""),d=s(!1),b=s(!1),w=()=>{if(r.value="",!a.value||!u.value||!n.value||!i.value){r.value="請填寫所有欄位";return}if(n.value!==i.value){r.value="兩次輸入的密碼不一致";return}if(n.value.length<6){r.value="密碼長度至少需要6個字元";return}console.log("register"),d.value=!0,fetch(q+"/users/sign_up",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.value,password:n.value,nickname:u.value})}).then(t=>(console.log(t),t.json())).then(t=>{console.log(t),t.status?(alert(`註冊成功 ${t.uid}`),f.fire({title:"註冊成功",text:`${t.uid}`,icon:"success",confirmButtonText:"確定"}),b.value=!0,g.push("/login")):f.fire({title:"註冊失敗",text:`${t.message}`,icon:"error",confirmButtonText:"確定"}),d.value=!1}).catch(t=>{alert("註冊失敗"),d.value=!1,f.fire({title:"註冊失敗",icon:"error",confirmButtonText:"確定"})})};return(t,e)=>{const _=y("router-link");return v(),c("div",null,[o("div",B,[o("div",P,[e[11]||(e[11]=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),o("div",null,[o("form",{class:"formControls",onSubmit:h(w,["prevent"])},[e[5]||(e[5]=o("h2",{class:"formControls_txt"},"註冊帳號",-1)),e[6]||(e[6]=o("label",{class:"formControls_label",for:"email"},"Email",-1)),m(o("input",{class:"formControls_input",type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),placeholder:"請輸入 email",required:""},null,512),[[p,a.value]]),e[7]||(e[7]=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),m(o("input",{class:"formControls_input",type:"text",id:"name","onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),placeholder:"請輸入您的暱稱",required:""},null,512),[[p,u.value]]),e[8]||(e[8]=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),m(o("input",{class:"formControls_input",type:"password",id:"pwd","onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),placeholder:"請輸入密碼",required:""},null,512),[[p,n.value]]),e[9]||(e[9]=o("label",{class:"formControls_label",for:"confirmPwd"},"再次輸入密碼",-1)),m(o("input",{class:"formControls_input",type:"password",id:"confirmPwd","onUpdate:modelValue":e[3]||(e[3]=l=>i.value=l),placeholder:"請再次輸入密碼",required:""},null,512),[[p,i.value]]),r.value?(v(),c("div",N,V(r.value),1)):S("",!0),e[10]||(e[10]=o("button",{type:"submit",class:"formControls_btnSubmit"},"註冊帳號",-1)),U(_,{to:"/login",class:"formControls_btnLink"},{default:k(()=>e[4]||(e[4]=[T("登入",-1)])),_:1,__:[4]})],32)])])])])}}},D=x(j,[["__scopeId","data-v-652f234b"]]);export{D as default};
